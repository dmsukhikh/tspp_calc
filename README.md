# TSPP Calculator

Header-only библиотека для работы с матрицами и утилита, демонстрирующая работу библиотеки. Работа сделана в рамках курса "Технологии создания программного продукта" с использованием C++14

## Зависимости ПО

- **Системные зависимости**:
    - Компилятор C++ с поддержкой стандарта C++14
    - CMake версии 3.5 или выше
- **Библиотеки**
    - Стандартная библиотека C++
- **Утилиты**
  - cmake
  - make
  - cpack
  - dpkg
  - rpm
  - tar
- **Внешние зависимости**:
    - Фреймворк Google Test (для тестирования)
    - Doxygen (для генерации документации)
    - texlive-latexrecommended *(зависит от конкретного дистрибутива: например, в Ubuntu можно установить пакет doxygen-latex)*, texlive-langcyrillic (Для сборки latex-документации)

## Сборка ПО

### Сборка

```bash
# Сборка
mkdir build
cd build
cmake -DCMAKE_BUILD_TYPE=Release ..
```
При создании CMake можно указать две переменные сборки:
- ```TESTS``` - собирать ли тесты. По умолчанию - TRUE
- ```CMAKE_BUILD_TYPE``` - тип сборки: Debug или Release. По умолчанию - Debug

### Linux (Ubuntu/Debian)

```bash
# Установка (DEB-пакет)
cpack -G DEB && sudo dpkg -i matrixlib-*.deb
```

### Linux (CentOS/RHEL)
```bash
# Требует установки rpm-build
sudo yum install rpm-build

# Сборка RPM-пакета
cpack -G RPM && sudo rpm -i matrixlib-*.rpm
```

### Документация
```bash
# В корневой папке проекта
doxygen Doxyfile
```
Генерируются html, man и latex файлы. Html-документация доступна посредством открытия файла index.html в любом браузере. man-файлы открываются утилитой man. latex-файлы собираются с помощью утилиты make в папке doc/latex.
### Список файлов для поставки и их упаковка:

### Основные файлы проекта

- include/
    - Calculator.hpp - класс калькулятора, который используется в утилите
    - Exceptions.hpp - описание исключений проекта
    - MatrixGeneric.hpp - класс матрицы 
    - MatrixOperation.hpp - бинарные операции над матрицами
- src/
    - Calculator.cpp - спецификации функции _conversionFromString()
    - main.cpp - файл с основным циклом исполнения утилиты
- test
    - main_test.cpp - файл для ручного тестирования
    - test_basic.cpp - файл с тест-сьютом проверки базовых операций над MatrixGeneric
    - test_funcs.cpp - файл с тест-сьютом проверки основных методов матрицы: det, inverse и т. д.
    - test_ops.cpp - файл с тест-сьютом проверки бинарных операций
    - test_util.cpp - файл с тест-сьютом проверки корректности работы утилиты

### Форматы поставки:

1. DEB-пакет
2. RPM-пакет
3. Документация

## Запуск утилиты

### Базовое использование

```bash
./tspp_calc [файл] [-f|-d]
```
-f - элементы считываются как значения типа float
-d - элементы считываются как значения типа double

### Формат входного файла
```
[команда] [аргументы команды]
[высота матрицы] [ширина матрицы]
[элементы матрицы ...]
...
```

**Возможные команды:**
- Все арифметические операции: -, ∗, /, +
- det - определитель матрицы
- inv - обратная матрица
- rk - ранг матрицы
- t - транспонирование матрицы
- pow - степень матрицы

Примеры возможных входных файлов (в том числе и невалидных) можно посмотреть в папке test/test_suite
## Авторы

* **Сухих Д. А.** - *разработчик* - [gitlab](https://vgit.mirea.ru/dmsukhikh)